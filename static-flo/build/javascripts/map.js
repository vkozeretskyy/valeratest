/*! Floressance 12-01-2018
* Copyright (c) 2018  */
var PointsVenteMap={options:{zoom:6,center:new google.maps.LatLng(46.52863469527167,2.43896484375),zoomControl:!0,panControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!0,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_CENTER},styles:[{featureType:"all",elementType:"geometry",stylers:[{lightness:"26"},{gamma:"1.14"},{saturation:"38"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#c7c7c7"}]}]},parameters:{departement_kml_url:""},getOptions:function(a){return $.extend({},this.options,a)},localize:function(a,b){function c(){$.ajax({dataType:"json",url:"../freegeoip.net/json/default.htm",success:function(c,d,e){b.center=new google.maps.LatLng(c.latitude,c.longitude),a.setCenter(b.center)},error:function(c,d,e){a.setCenter(b.center)}})}function d(){function d(c){b.center=new google.maps.LatLng(c.coords.latitude,c.coords.longitude),a.setCenter(b.center)}function e(a){c()}navigator.geolocation.getCurrentPosition(d,e)}navigator.geolocation?d():c()},focusDepartement:function(a,b){a.ctaLayer.setMap(null),a.ctaLayer=new google.maps.KmlLayer({suppressInfoWindows:!0,url:a.kmlRoot+b+".kml",map:a})},init:function(a,b,c,d,e){function f(a){var b="<div class='info-window tooltip-gmap'>  <h3><a href='"+a.url+"'</a>"+a.libelle+"</a></h3>  <div class='adresse'>    <p>"+a.rue+"<br>"+a.cp+" "+a.ville+"    </p>    <p>  <a href='"+a.url+"'</a>Voir les produits distribu√©s &raquo;</a>    </p>  </div></div>";return new google.maps.InfoWindow({content:b})}function g(c){c.infoWindow=f(c),c.position=new google.maps.LatLng(parseFloat(c.lat),parseFloat(c.lng));var d=new google.maps.Marker({position:c.position,map:i,icon:b});return google.maps.event.addListener(d,"click",function(){for(var b=0,e=a.length;e>b;b++)a[b].infoWindow.close();c.infoWindow.open(i,d)}),d}var h=this.getOptions(d),i=new google.maps.Map(document.getElementById("gmap"),h);i.kmlRoot=c,i.setCenter(h.center),google.maps.event.addDomListener(window,"resize",function(){i.setCenter(h.center)});for(var j=[],k=0,l=a.length;l>k;k++)j.push(g(a[k]));new MarkerClusterer(i,j,e);return i.ctaLayer={setMap:function(a){}},i}};